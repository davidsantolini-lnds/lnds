<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anniversaire de mon Amour</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg: #06060d;
        --bg2: #131427;
        --text: rgba(255,255,255,.92);
        --muted: rgba(255,255,255,.7);
        --line: rgba(255,255,255,.16);
        --card: rgba(255,255,255,.08);
        --pink: #ff6eb6;
        --violet: #8d7bff;
        --cyan: #6fd7ff;
      }
      * { box-sizing: border-box; }
      html, body { margin: 0; min-height: 100%; }
      body {
        font-family: Manrope, system-ui, sans-serif;
        color: var(--text);
        background:
          radial-gradient(1200px 700px at 10% -10%, rgba(255,110,182,.2), transparent 55%),
          radial-gradient(1200px 700px at 100% 10%, rgba(111,215,255,.18), transparent 55%),
          linear-gradient(180deg, var(--bg), var(--bg2));
        overflow-x: hidden;
      }
      .bg-photo {
        position: fixed; inset: 0; z-index: -3;
        background: url("nous.jpg") center/cover no-repeat;
        opacity: .16;
        transform: scale(1.1);
      }
      .bg-glow {
        position: fixed; inset: -20%; z-index: -2; pointer-events:none;
        background:
          radial-gradient(circle at 20% 30%, rgba(255,110,182,.22), transparent 35%),
          radial-gradient(circle at 80% 35%, rgba(141,123,255,.2), transparent 35%),
          radial-gradient(circle at 50% 80%, rgba(111,215,255,.16), transparent 40%);
        filter: blur(28px);
      }

      .top {
        position: fixed; top: 0; left: 0; right: 0; z-index: 30;
        backdrop-filter: blur(12px);
        background: rgba(8,8,15,.5);
        border-bottom: 1px solid var(--line);
      }
      .top-inner {
        width: min(1100px, 94vw); margin: 0 auto; padding: 12px 0;
        display: flex; justify-content: space-between; align-items: center; gap: 8px;
      }
      .brand { font-weight: 800; letter-spacing: -.02em; }
      .nav { display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; }
      .nav button, .nav a {
        border: 1px solid var(--line);
        color: var(--text);
        background: rgba(255,255,255,.05);
        text-decoration: none;
        border-radius: 999px;
        padding: 8px 11px;
        font-size: 12px;
        cursor: pointer;
      }
      .nav .active { background: linear-gradient(120deg, rgba(255,110,182,.35), rgba(141,123,255,.35)); }

      .progress-wrap {
        position: fixed; right: 12px; top: 74px; height: calc(100vh - 88px); width: 7px;
        background: rgba(255,255,255,.13); border-radius: 999px; z-index: 20;
      }
      .progress { width: 100%; height: 0%; border-radius: 999px; background: linear-gradient(180deg, var(--pink), var(--violet), var(--cyan)); }

      main { width: min(1000px, 92vw); margin: 0 auto; padding-top: 74px; }
      .scene {
        min-height: 100vh;
        display: grid;
        align-content: center;
        gap: 16px;
        padding: 24px 0;
      }
      .card {
        border: 1px solid var(--line);
        background: var(--card);
        border-radius: 22px;
        padding: clamp(16px, 2.2vw, 24px);
        box-shadow: 0 22px 70px rgba(0,0,0,.4);
      }
      h1 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(40px, 7vw, 82px);
        line-height: .95;
      }
      h2 { margin: 0 0 8px; }
      p { margin: 0; color: var(--muted); line-height: 1.65; }
      .chip {
        border: 1px solid var(--line); border-radius: 999px; padding: 7px 12px;
        width: fit-content; background: rgba(255,255,255,.06); margin-bottom: 12px;
      }
      .count {
        display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 10px; margin-top: 14px;
      }
      .box { text-align: center; border: 1px solid var(--line); border-radius: 14px; padding: 10px; background: rgba(0,0,0,.22); }
      .num { font-size: clamp(24px, 4vw, 38px); font-weight: 800; }
      .lbl { font-size: 12px; color: var(--muted); text-transform: uppercase; letter-spacing: .08em; }

      .timeline { display: grid; gap: 20px; }
      .moment {
        border: 1px solid var(--line);
        border-radius: 18px;
        padding: 14px;
        background: rgba(255,255,255,.04);
        transform: translateY(35px) scale(.95) rotateX(8deg);
        opacity: 0;
        transition: transform .8s cubic-bezier(.19,1,.22,1), opacity .8s cubic-bezier(.19,1,.22,1), box-shadow .8s;
        transform-style: preserve-3d;
      }
      .moment.visible {
        transform: translateY(0) scale(1) rotateX(0deg);
        opacity: 1;
        box-shadow: 0 20px 55px rgba(0,0,0,.35);
      }
      .moment .k { color: #fff; font-weight: 700; margin-bottom: 5px; }

      .surprise {
        position: relative;
        overflow: hidden;
      }
      .surprise::before {
        content: "";
        position: absolute;
        inset: -40%;
        background: conic-gradient(from 0deg, transparent, rgba(255,110,182,.24), transparent, rgba(111,215,255,.2), transparent);
        animation: spin 13s linear infinite;
        pointer-events: none;
      }
      .surprise > * { position: relative; z-index: 1; }
      @keyframes spin { to { transform: rotate(360deg); } }

      .sticky-stage { min-height: 210vh; position: relative; }
      .sticky-box {
        position: sticky; top: 95px;
        border: 1px solid var(--line);
        border-radius: 24px;
        background: rgba(0,0,0,.3);
        min-height: 68vh;
        display: grid;
        place-items: center;
        overflow: hidden;
      }
      .orbit {
        width: 62vmin; max-width: 520px; aspect-ratio: 1;
        border-radius: 999px;
        border: 1px dashed rgba(255,255,255,.26);
        position: relative;
      }
      .planet {
        position: absolute; left: 50%; top: 50%;
        width: 34px; height: 34px; border-radius: 999px;
        margin: -17px;
        background: linear-gradient(120deg, var(--pink), var(--violet));
        box-shadow: 0 0 30px rgba(255,110,182,.6);
      }
      .center-note {
        position: absolute; inset: 0; display:grid; place-items:center;
        text-align:center; padding: 20px; color: var(--text);
      }

      footer { text-align: center; padding: 28px 0 46px; color: rgba(255,255,255,.56); }
      @media (max-width: 740px) { .count { grid-template-columns: repeat(2,minmax(0,1fr)); } }
    </style>
  </head>
  <body>
    <div class="bg-photo" id="bgPhoto"></div>
    <div class="bg-glow"></div>

    <header class="top">
      <div class="top-inner">
        <div class="brand">Pour mon Amour ‚ù§Ô∏è</div>
        <nav class="nav" id="nav">
          <a href="contact.html">Page 2</a>
        </nav>
      </div>
    </header>

    <div class="progress-wrap"><div class="progress" id="progress"></div></div>

    <main>
      <section id="intro" class="scene">
        <article class="card surprise">
          <div class="chip" id="chip">‚è≥ Vers le 1er mars</div>
          <h1>Joyeux anniversaire<br />mon Amour</h1>
          <p>Une timeline simple. Tu scrolles, tu d√©couvres, et chaque √©tape raconte un petit bout de nous.</p>
          <div class="count">
            <div class="box"><div class="num" id="d">‚Äî</div><div class="lbl">Jours</div></div>
            <div class="box"><div class="num" id="h">‚Äî</div><div class="lbl">Heures</div></div>
            <div class="box"><div class="num" id="m">‚Äî</div><div class="lbl">Minutes</div></div>
            <div class="box"><div class="num" id="s">‚Äî</div><div class="lbl">Secondes</div></div>
          </div>
        </article>
      </section>

      <section id="timeline" class="scene">
        <article class="card">
          <h2>Timeline anniversaire</h2>
          <div class="timeline" id="timelineList">
            <div class="moment"><div class="k">Maintenant</div><p>Tu arrives ici. Mission: te faire sourire d√®s la premi√®re seconde.</p></div>
            <div class="moment"><div class="k">Bient√¥t</div><p>On pr√©pare un week-end doux, avec surprises et petites attentions.</p></div>
            <div class="moment"><div class="k">Le jour J</div><p id="dayj">On f√™te ton anniversaire comme tu le m√©rites: en grand, en beau, en nous.</p></div>
            <div class="moment"><div class="k">Apr√®s</div><p>On continue d‚Äô√©crire notre histoire, encore plus belle.</p></div>
          </div>
        </article>
      </section>

      <section id="experience" class="scene">
        <article class="sticky-stage">
          <div class="sticky-box" id="stickyBox">
            <div class="orbit" id="orbit">
              <div class="planet" id="planet"></div>
              <div class="center-note" id="centerNote">Chaque scroll fait tourner notre petite plan√®te üí´</div>
            </div>
          </div>
        </article>
      </section>

      <section id="final" class="scene">
        <article class="card">
          <h2>Fin de la timeline</h2>
          <p>Je t‚Äôaime. Et ce n‚Äôest que le d√©but de la version 2.</p>
        </article>
      </section>

      <footer>Fait avec ‚ù§Ô∏è</footer>
    </main>

    <script>
      const sections = [...document.querySelectorAll("main .scene")];
      const nav = document.getElementById("nav");
      const names = { intro: "Intro", timeline: "Timeline", experience: "Exp√©rience", final: "Final" };
      nav.insertAdjacentHTML("afterbegin", sections.map(s => `<button data-to='${s.id}'>${names[s.id]}</button>`).join(""));

      nav.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-to]");
        if (!btn) return;
        document.getElementById(btn.dataset.to).scrollIntoView({ behavior: "smooth", block: "start" });
      });

      const progress = document.getElementById("progress");
      const bgPhoto = document.getElementById("bgPhoto");
      const orbit = document.getElementById("orbit");
      const planet = document.getElementById("planet");
      const centerNote = document.getElementById("centerNote");
      const stickyBox = document.getElementById("stickyBox");

      const ioMoments = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
        });
      }, { threshold: 0.22 });
      document.querySelectorAll(".moment").forEach(el => ioMoments.observe(el));

      const spy = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          const id = entry.target.id;
          [...nav.querySelectorAll("button")].forEach(b => b.classList.toggle("active", b.dataset.to === id));
        });
      }, { threshold: 0.6 });
      sections.forEach(s => spy.observe(s));

      function easeOutBack(x) {
        const c1 = 1.70158, c3 = c1 + 1;
        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);
      }

      function animateScroll() {
        const y = window.scrollY;
        const max = document.documentElement.scrollHeight - window.innerHeight;
        const ratio = max > 0 ? y / max : 0;
        progress.style.height = `${ratio * 100}%`;
        bgPhoto.style.transform = `scale(1.1) translateY(${y * -0.06}px)`;

        const rect = stickyBox.getBoundingClientRect();
        const vh = window.innerHeight;
        let t = 1 - Math.min(1, Math.max(0, rect.top / vh));
        t = easeOutBack(Math.min(1, Math.max(0, t)));

        const angle = t * 720;
        const r = 180;
        const rad = (angle * Math.PI) / 180;
        const x = Math.cos(rad) * r;
        const yy = Math.sin(rad) * r;
        planet.style.transform = `translate(${x}px, ${yy}px) scale(${0.85 + t * 0.35})`;
        orbit.style.transform = `rotate(${angle * 0.12}deg) scale(${0.94 + t * 0.1})`;
        centerNote.style.opacity = String(1 - Math.min(0.75, t));
      }
      window.addEventListener("scroll", animateScroll, { passive: true });
      animateScroll();

      const target = new Date("2026-03-01T00:00:00");
      const chip = document.getElementById("chip");
      const dayj = document.getElementById("dayj");
      const d = document.getElementById("d");
      const h = document.getElementById("h");
      const m = document.getElementById("m");
      const s = document.getElementById("s");
      const pad = (n) => String(n).padStart(2, "0");

      function tick() {
        const diff = target - new Date();
        if (diff <= 0) {
          d.textContent = "0"; h.textContent = "00"; m.textContent = "00"; s.textContent = "00";
          chip.textContent = "üéâ Joyeux anniversaire";
          dayj.textContent = "C'est aujourd'hui. Je t'aime tr√®s fort. ‚ù§Ô∏è";
          return;
        }
        const sec = Math.floor(diff / 1000);
        const days = Math.floor(sec / 86400);
        const hrs = Math.floor((sec % 86400) / 3600);
        const mins = Math.floor((sec % 3600) / 60);
        const secs = sec % 60;
        d.textContent = String(days);
        h.textContent = pad(hrs);
        m.textContent = pad(mins);
        s.textContent = pad(secs);
        chip.textContent = `‚è≥ ${days}j ${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
      }
      tick();
      setInterval(tick, 1000);
    </script>
  </body>
</html>
