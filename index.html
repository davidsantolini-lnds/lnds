<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1er mars ‚Äî Mon Amour</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg0: #060711;
        --bg1: #121832;
        --text: rgba(255, 255, 255, 0.93);
        --muted: rgba(255, 255, 255, 0.73);
        --line: rgba(255, 255, 255, 0.17);
        --card: rgba(255, 255, 255, 0.08);
        --pink: #ff6eb6;
        --violet: #8f7dff;
        --cyan: #75ddff;
      }

      * { box-sizing: border-box; }
      html, body { margin: 0; min-height: 100%; }
      body {
        font-family: Manrope, system-ui, sans-serif;
        color: var(--text);
        overflow-x: hidden;
        background:
          radial-gradient(1200px 650px at 8% -10%, rgba(255,110,182,.25), transparent 58%),
          radial-gradient(1200px 650px at 90% 10%, rgba(117,221,255,.2), transparent 58%),
          linear-gradient(180deg, var(--bg0), var(--bg1));
      }

      .photo {
        position: fixed;
        inset: 0;
        z-index: -3;
        background: url("nous.jpg") center/cover no-repeat;
        opacity: .16;
        transform: scale(1.08);
      }

      .aurora {
        position: fixed;
        inset: -20%;
        pointer-events: none;
        z-index: -2;
        filter: blur(30px);
        background:
          radial-gradient(circle at 25% 30%, rgba(255,110,182,.22), transparent 35%),
          radial-gradient(circle at 80% 32%, rgba(143,125,255,.2), transparent 35%),
          radial-gradient(circle at 50% 80%, rgba(117,221,255,.16), transparent 40%);
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 40;
        backdrop-filter: blur(12px);
        background: rgba(6,8,18,.55);
        border-bottom: 1px solid var(--line);
      }
      .head {
        width: min(1000px, 94vw);
        margin: 0 auto;
        padding: 12px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
      }
      .brand { font-weight: 800; }
      nav { display: flex; gap: 8px; align-items: center; }
      nav button, nav a {
        border: 1px solid var(--line);
        border-radius: 999px;
        background: rgba(255,255,255,.05);
        color: var(--text);
        text-decoration: none;
        font-size: 12px;
        padding: 8px 11px;
        cursor: pointer;
      }
      nav .active { background: linear-gradient(120deg, rgba(255,110,182,.36), rgba(143,125,255,.36)); }

      main {
        width: min(980px, 92vw);
        margin: 0 auto;
        padding-top: 78px;
        padding-bottom: 48px;
      }

      section { min-height: 84vh; display: grid; align-content: center; }
      .card {
        border: 1px solid var(--line);
        border-radius: 24px;
        background: var(--card);
        padding: clamp(16px, 2.4vw, 28px);
        box-shadow: 0 24px 70px rgba(0,0,0,.35);
      }

      h1 {
        margin: 0;
        font-family: "Playfair Display", serif;
        line-height: .95;
        font-size: clamp(40px, 7vw, 84px);
      }
      h2 { margin: 0 0 8px; }
      p { margin: 0; color: var(--muted); line-height: 1.65; }

      .chip {
        width: fit-content;
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 7px 11px;
        background: rgba(255,255,255,.06);
        margin-bottom: 12px;
      }

      .count {
        margin-top: 16px;
        display: grid;
        grid-template-columns: repeat(4, minmax(0,1fr));
        gap: 10px;
      }
      .box {
        text-align: center;
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 10px;
        background: rgba(0,0,0,.22);
      }
      .num { font-size: clamp(24px, 4vw, 40px); font-weight: 800; }
      .lbl { font-size: 11px; letter-spacing: .08em; text-transform: uppercase; color: var(--muted); }

      .progress-wrap {
        position: fixed;
        right: 12px;
        top: 74px;
        width: 7px;
        height: calc(100vh - 88px);
        border-radius: 999px;
        background: rgba(255,255,255,.14);
        overflow: hidden;
        z-index: 35;
      }
      .progress {
        width: 100%;
        height: 0%;
        background: linear-gradient(180deg, var(--pink), var(--violet), var(--cyan));
      }

      .timeline-wrap {
        position: relative;
        display: grid;
        grid-template-columns: 60px 1fr;
        gap: 14px;
      }
      .line-col {
        position: relative;
      }
      .line {
        position: sticky;
        top: 108px;
        width: 8px;
        height: calc(100vh - 140px);
        margin: 0 auto;
        border-radius: 999px;
        background: rgba(255,255,255,.14);
        overflow: hidden;
      }
      .line-fill {
        width: 100%;
        height: 0%;
        background: linear-gradient(180deg, var(--pink), var(--violet), var(--cyan));
      }

      .moments {
        display: grid;
        gap: 16px;
        padding: 8px 0;
      }

      .moment {
        position: relative;
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 14px;
        background: rgba(255,255,255,.04);
        transform: translateY(42px) scale(.95) rotateX(10deg);
        transform-origin: 50% 100%;
        opacity: 0;
        transition: transform .85s cubic-bezier(.2,.9,.2,1), opacity .85s cubic-bezier(.2,.9,.2,1), box-shadow .5s;
      }
      .moment::before {
        content: "";
        position: absolute;
        left: -26px;
        top: 22px;
        width: 11px;
        height: 11px;
        border-radius: 999px;
        background: linear-gradient(120deg, var(--pink), var(--violet));
        box-shadow: 0 0 0 6px rgba(255,255,255,.08);
      }
      .moment.visible {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0deg);
      }
      .moment.active {
        box-shadow: 0 0 0 1px rgba(255,255,255,.25), 0 20px 55px rgba(0,0,0,.34);
        background: linear-gradient(120deg, rgba(255,110,182,.13), rgba(143,125,255,.12));
      }
      .moment b { color: #fff; }

      .floaty {
        position: fixed;
        pointer-events: none;
        inset: 0;
        z-index: -1;
      }
      .particle {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: rgba(255,255,255,.5);
        filter: blur(.4px);
        opacity: .45;
      }

      footer { text-align: center; color: rgba(255,255,255,.56); padding-top: 8px; }
      @media (max-width: 760px) {
        .count { grid-template-columns: repeat(2, minmax(0,1fr)); }
        .timeline-wrap { grid-template-columns: 32px 1fr; }
      }
    </style>
  </head>
  <body>
    <div class="photo" id="photo"></div>
    <div class="aurora"></div>
    <div class="floaty" id="floaty"></div>

    <header>
      <div class="head">
        <div class="brand">1er mars ‚Ä¢ Mon Amour</div>
        <nav id="nav">
          <button data-to="compteur">Compteur</button>
          <button data-to="timeline">Timeline</button>
          <a href="contact.html">Page 2</a>
        </nav>
      </div>
    </header>

    <div class="progress-wrap"><div class="progress" id="progress"></div></div>

    <main>
      <section id="compteur">
        <article class="card">
          <div class="chip" id="chip">‚è≥ Vers le 1er mars</div>
          <h1>Bient√¥t le<br />1er mars</h1>
          <p>Un compte √† rebours simple, beau, et juste pour toi.</p>
          <div class="count">
            <div class="box"><div class="num" id="d">‚Äî</div><div class="lbl">Jours</div></div>
            <div class="box"><div class="num" id="h">‚Äî</div><div class="lbl">Heures</div></div>
            <div class="box"><div class="num" id="m">‚Äî</div><div class="lbl">Minutes</div></div>
            <div class="box"><div class="num" id="s">‚Äî</div><div class="lbl">Secondes</div></div>
          </div>
        </article>
      </section>

      <section id="timeline">
        <article class="card">
          <h2>Timeline</h2>
          <div class="timeline-wrap" id="timelineWrap">
            <div class="line-col">
              <div class="line"><div class="line-fill" id="lineFill"></div></div>
            </div>
            <div class="moments">
              <div class="moment"><b>Maintenant</b><p>La page s'ouvre. Premi√®re √©motion.</p></div>
              <div class="moment"><b>Semaine avant</b><p>Petits signes, grands sourires.</p></div>
              <div class="moment"><b>Veille</b><p>Le moment approche. Le c≈ìur acc√©l√®re.</p></div>
              <div class="moment"><b>1er mars</b><p id="dayj">Notre journ√©e. Notre √©nergie.</p></div>
              <div class="moment"><b>Apr√®s</b><p>On garde cette lumi√®re, et on continue.</p></div>
            </div>
          </div>
        </article>
      </section>

      <footer>Fait avec ‚ù§Ô∏è</footer>
    </main>

    <script>
      const nav = document.getElementById("nav");
      const sections = [...document.querySelectorAll("main > section")];
      const progress = document.getElementById("progress");
      const photo = document.getElementById("photo");
      const lineFill = document.getElementById("lineFill");
      const timelineWrap = document.getElementById("timelineWrap");
      const moments = [...document.querySelectorAll(".moment")];

      nav.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-to]");
        if (!btn) return;
        document.getElementById(btn.dataset.to).scrollIntoView({ behavior: "smooth", block: "start" });
      });

      const spy = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          const id = entry.target.id;
          [...nav.querySelectorAll("button")].forEach((b) => b.classList.toggle("active", b.dataset.to === id));
        });
      }, { threshold: 0.58 });
      sections.forEach((s) => spy.observe(s));

      const momentObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          entry.target.classList.add("visible");
        });
      }, { threshold: 0.22 });
      moments.forEach((m) => momentObserver.observe(m));

      function updateTimelineEffects() {
        const rect = timelineWrap.getBoundingClientRect();
        const vh = window.innerHeight;
        const progressRaw = (vh * 0.72 - rect.top) / (rect.height + vh * 0.15);
        const p = Math.max(0, Math.min(1, progressRaw));
        lineFill.style.height = `${p * 100}%`;

        let activeIndex = 0;
        let bestDist = Infinity;
        moments.forEach((m, i) => {
          const r = m.getBoundingClientRect();
          const center = r.top + r.height * 0.5;
          const dist = Math.abs(center - vh * 0.45);
          if (dist < bestDist) { bestDist = dist; activeIndex = i; }
        });
        moments.forEach((m, i) => m.classList.toggle("active", i === activeIndex));
      }

      function onScroll() {
        const y = window.scrollY;
        const max = document.documentElement.scrollHeight - window.innerHeight;
        const p = max > 0 ? y / max : 0;
        progress.style.height = `${p * 100}%`;
        photo.style.transform = `scale(1.08) translateY(${y * -0.05}px)`;
        updateTimelineEffects();
      }
      window.addEventListener("scroll", onScroll, { passive: true });

      const floaty = document.getElementById("floaty");
      for (let i = 0; i < 22; i++) {
        const dot = document.createElement("span");
        dot.className = "particle";
        dot.style.left = `${Math.random() * 100}%`;
        dot.style.top = `${Math.random() * 100}%`;
        dot.style.opacity = `${0.18 + Math.random() * 0.45}`;
        dot.dataset.spd = (0.25 + Math.random() * 0.65).toFixed(2);
        floaty.appendChild(dot);
      }
      const particles = [...document.querySelectorAll(".particle")];
      function animateParticles() {
        const y = window.scrollY;
        particles.forEach((p, i) => {
          const spd = Number(p.dataset.spd);
          const drift = Math.sin((y * 0.004) + i) * 8;
          p.style.transform = `translate(${drift}px, ${-y * spd * 0.035}px)`;
        });
      }
      window.addEventListener("scroll", animateParticles, { passive: true });

      const target = new Date("2026-03-01T00:00:00");
      const chip = document.getElementById("chip");
      const dayj = document.getElementById("dayj");
      const d = document.getElementById("d");
      const h = document.getElementById("h");
      const m = document.getElementById("m");
      const s = document.getElementById("s");
      const pad = (n) => String(n).padStart(2, "0");

      function tick() {
        const diff = target - new Date();
        if (diff <= 0) {
          d.textContent = "0"; h.textContent = "00"; m.textContent = "00"; s.textContent = "00";
          chip.textContent = "üå∏ 1er mars";
          dayj.textContent = "Le 1er mars est l√†. ‚ù§Ô∏è";
          return;
        }

        const sec = Math.floor(diff / 1000);
        const days = Math.floor(sec / 86400);
        const hrs = Math.floor((sec % 86400) / 3600);
        const mins = Math.floor((sec % 3600) / 60);
        const secs = sec % 60;

        d.textContent = String(days);
        h.textContent = pad(hrs);
        m.textContent = pad(mins);
        s.textContent = pad(secs);
        chip.textContent = `‚è≥ ${days}j ${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
      }

      tick();
      onScroll();
      animateParticles();
      setInterval(tick, 1000);
    </script>
  </body>
</html>
