<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alerte Anniversaire 3D</title>
  <style>
    body {
      margin: 0;
      height: 500vh;
      background-color: #050505;
      color: white;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      overflow-x: hidden;
    }

    .viewport {
      position: fixed;
      inset: 0;
      perspective: 1000px;
      overflow: hidden;
      background: radial-gradient(circle at center, #1a1025 0%, #000 100%);
    }

    .camera {
      position: absolute;
      inset: 0;
      transform-style: preserve-3d;
      will-change: transform;
    }

    .layer {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100vw;
      text-align: center;
      transform-style: preserve-3d;
    }

    h1, h2 {
      text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
      margin: 0;
    }
    h1 { font-size: 3rem; }
    h2 { font-size: 2rem; color: #ff9a9e; }
    .scroll-indicator { margin-top: 20px; font-size: 2rem; animation: bounce 2s infinite; }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(20px); }
      60% { transform: translateY(10px); }
    }

    .countdown-container {
      display: flex;
      gap: 30px;
      justify-content: center;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .time-box {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 20px;
      border: 1px solid rgba(255, 105, 180, 0.3);
      box-shadow: 0 0 50px rgba(255, 105, 180, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.05);
      min-width: 120px;
    }

    .number {
      font-size: 5rem;
      font-weight: 900;
      background: linear-gradient(to right, #ff9a9e, #fecfef);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: block;
    }

    .label {
      font-size: 1.2rem;
      text-transform: uppercase;
      letter-spacing: 4px;
      margin-top: 10px;
      display: block;
      color: #a0a0a0;
    }

    .particles {
      position: absolute;
      inset: 0;
      transform-style: preserve-3d;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      box-shadow: 0 0 10px currentColor;
      opacity: 0.9;
    }
  </style>
</head>
<body>

  <div class="viewport">
    <div class="camera" id="camera">
      <div class="particles" id="particles"></div>

      <div class="layer" style="transform: translate(-50%, -50%) translateZ(0px);">
        <h1>Le temps file...</h1>
        <div class="scroll-indicator">‚Üì Scrolle pour plonger ‚Üì</div>
      </div>

      <div class="layer" style="transform: translate(-50%, -50%) translateZ(-1500px);">
        <h2>On approche de la date fatidique...</h2>
      </div>

      <div class="layer" style="transform: translate(-50%, -50%) translateZ(-3000px);">
        <h2>Pr√©pare-toi psychologiquement.</h2>
      </div>

      <div class="layer" style="transform: translate(-50%, -50%) translateZ(-4500px);">
        <h1 id="title">üéâ Objectif 1er Mars üéâ</h1>
        <div class="countdown-container" id="countdown">
          <div class="time-box"><span class="number" id="days">00</span><span class="label">Jours</span></div>
          <div class="time-box"><span class="number" id="hours">00</span><span class="label">Heures</span></div>
          <div class="time-box"><span class="number" id="minutes">00</span><span class="label">Minutes</span></div>
          <div class="time-box"><span class="number" id="seconds">00</span><span class="label">Secondes</span></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 1) SCROLL 3D (smooth via RAF + cam√©ra vers Z n√©gatif)
    const camera = document.getElementById("camera");

    const DEPTH = 4500; // doit matcher le dernier calque
    let targetZ = 0;
    let currentZ = 0;
    let targetRot = 0;
    let currentRot = 0;

    // Bonus: parallax souris discret
    let mouseX = 0, mouseY = 0;
    window.addEventListener("mousemove", (e) => {
      const nx = (e.clientX / window.innerWidth) * 2 - 1;  // [-1..1]
      const ny = (e.clientY / window.innerHeight) * 2 - 1;
      mouseX = nx;
      mouseY = ny;
    }, { passive: true });

    window.addEventListener("scroll", () => {
      const scrollY = window.scrollY;
      const maxScroll = document.body.scrollHeight - window.innerHeight;
      const frac = maxScroll > 0 ? (scrollY / maxScroll) : 0;

      // Avancer dans le tunnel = aller vers le n√©gatif
      targetZ = -frac * DEPTH;
      targetRot = frac * 10; // un peu moins ‚Äútournis‚Äù que 15
    }, { passive: true });

    function animate() {
      // easing
      currentZ += (targetZ - currentZ) * 0.08;
      currentRot += (targetRot - currentRot) * 0.08;

      // micro-tilt souris (cin√©ma, pas man√®ge)
      const tiltX = mouseY * 2; // deg
      const tiltY = mouseX * 2;

      camera.style.transform =
        `translateZ(${currentZ}px) rotateZ(${currentRot}deg) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;

      requestAnimationFrame(animate);
    }
    animate();

    // 2) PARTICULES
    const particlesContainer = document.getElementById("particles");
    const colors = ["#ffffff", "#ff9a9e", "#fecfef"];

    for (let i = 0; i < 180; i++) {
      const p = document.createElement("div");
      p.className = "particle";

      p.style.left = `${Math.random() * 200 - 50}vw`;
      p.style.top = `${Math.random() * 200 - 50}vh`;

      const z = Math.random() * -6000 + 1000; // [1000 .. -5000]
      p.style.transform = `translateZ(${z}px)`;

      const c = colors[(Math.random() * colors.length) | 0];
      p.style.color = c;

      // petit random sur taille/opacit√© pour √©viter l‚Äôeffet ‚Äúpapier peint‚Äù
      const s = Math.random() * 3 + 2;
      p.style.width = `${s}px`;
      p.style.height = `${s}px`;
      p.style.opacity = `${Math.random() * 0.5 + 0.4}`;

      particlesContainer.appendChild(p);
    }

    // 3) COUNTDOWN (date non-ambig√ºe)
    // Mars = 2 (0=janvier)
    const targetDate = new Date(2026, 2, 1, 0, 0, 0).getTime();

    const pad2 = (n) => String(n).padStart(2, "0");

    const timer = setInterval(() => {
      const now = Date.now();
      const distance = targetDate - now;

      if (distance <= 0) {
        clearInterval(timer);
        document.getElementById("title").innerText = "üéÇ C'est le jour J ! üéÇ";
        document.getElementById("countdown").innerHTML = "<h2>Tu as int√©r√™t √† avoir ton cadeau.</h2>";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("days").innerText = pad2(days);
      document.getElementById("hours").innerText = pad2(hours);
      document.getElementById("minutes").innerText = pad2(minutes);
      document.getElementById("seconds").innerText = pad2(seconds);
    }, 1000);
  </script>
</body>
</html>
