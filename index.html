<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Mission : H√©l√®ne ‚ú® - Final Cut</title>

  <style>
    :root{
      --bg0:#020204; /* Noir plus profond */
      --pink:#ff4785;
      --blue:#2477ff;
      --mint:#75f3c6;
      /* Ombres beaucoup plus marqu√©es pour le contraste cin√©ma */
      --shadow-cine: 0 50px 100px rgba(0,0,0,0.8), 0 20px 40px rgba(0,0,0,0.6);
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      height: 14000px; /* Descente encore plus longue */
      background:var(--bg0);
      color:#fff;
      font-family:-apple-system,BlinkMacSystemFont,Arial;
      overflow-x:hidden;
      overscroll-behavior-y: none; 
    }

    /* --- HUD (Style √©pur√©) --- */
    .hud{
      position:fixed; top:20px; left:20px; right:20px; z-index:100;
      display:flex; gap:15px; align-items:center; pointer-events:none;
      text-shadow: 0 2px 5px rgba(0,0,0,0.8);
    }
    .chip-glass{
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(16px) saturate(1.2);
      border: 1px solid rgba(255,255,255,0.15);
      padding: 12px 18px; border-radius: 12px;
      display:flex; align-items:center; gap:12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .dot-live{ width:10px; height:10px; background:red; border-radius:50%; box-shadow:0 0 15px red; animation: pulse 1s infinite alternate;}
    @keyframes pulse { from{opacity:0.6} to{opacity:1}}
    .bar-container{ flex:1; height:8px; background:rgba(255,255,255,0.1); border-radius:4px; overflow:hidden; }
    .bar-fill{ height:100%; width:0%; background:linear-gradient(90deg, var(--pink), var(--blue)); transition: width 0.1s linear; }

    /* --- VIEWPORT & AMBIANCE CIN√âMA --- */
    .viewport{
      position:fixed; inset:0;
      /* Perspective tr√®s forte pour l'immersion grand angle */
      perspective: 800px; 
      background: linear-gradient(180deg, #0a0a14 0%, #1a2035 40%, #eef 100%);
      overflow:hidden;
    }
    /* VIGNETTAGE CIN√âMA : Assombrit fortement les coins */
    .viewport:after {
        content: ""; position: absolute; inset: 0; z-index: 50; pointer-events: none;
        background: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 90%);
        mix-blend-mode: multiply;
    }
    /* BROUILLARD ATMOSPH√âRIQUE : Donne la profondeur */
    .fog-layer {
        position: absolute; inset:0; z-index: 2; pointer-events: none;
        background: linear-gradient(0deg, rgba(230,240,255,0.8) 0%, transparent 40%);
    }

    /* --- NEIGE AM√âLIOR√âE --- */
    .snow-container { position: fixed; inset: -100%; pointer-events: none; z-index: 1; transform-style: preserve-3d;}
    .snow-layer {
        position: absolute; inset:0; background-repeat: repeat;
        opacity:0; transition: opacity 1s ease-in;
        animation-timing-function: linear; animation-iteration-count: infinite;
    }
    body.skiing .snow-layer { opacity: 1; }
    .snow-far { background-size: 60px 60px; background-image: radial-gradient(circle, rgba(255,255,255,0.7) 1px, transparent 2px); animation: snowfall 25s infinite; transform: translateZ(-200px) scale(2); opacity: 0.4!important;}
    .snow-mid { background-size: 120px 120px; background-image: radial-gradient(circle, rgba(255,255,255,0.9) 2px, transparent 3px); animation: snowfall 15s infinite; }
    .snow-near { background-size: 180px 180px; background-image: radial-gradient(circle, #fff 3px, transparent 5px); animation: snowfall 7s infinite; transform: translateZ(100px); }
    @keyframes snowfall {
        0% { background-position: 0px 0px; }
        100% { background-position: 50px 1000px; }
    }

    /* --- CAM√âRA --- */
    .camera{ position:absolute; inset:0; transform-style:preserve-3d; will-change:transform; }

    /* --- PANNEAUX DE PISTE (Le sol) --- */
    .layer{ position:absolute; top:50%; left:50%; width:min(1200px, 95vw); transform-style:preserve-3d; transform-origin: center center -1000px; }

    .panel-surface{
      position:relative;
      /* Inclinaison r√©aliste de la piste */
      transform: rotateX(15deg);
      background: linear-gradient(170deg, rgba(220,235,255,1) 0%, rgba(180,200,230,1) 100%);
      /* Texture de glace/neige dam√©e */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.4' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.3'/%3E%3C/svg%3E");
      border-radius: 30px;
      padding: 40px;
      /* Ombre port√©e sur le sol "en dessous" */
      box-shadow: 0 40px 80px rgba(0,0,0,0.5);
      transform-style: preserve-3d;
      overflow: hidden; /* Pour que les textes ne d√©passent pas de la neige */
    }
    /* Reflet glac√© sur la piste */
    .panel-surface:before {
        content:""; position:absolute; inset:0;
        background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.4) 50%, transparent 60%);
        background-size: 200% 200%; filter: blur(10px); opacity: 0.7; mix-blend-mode: overlay;
    }

    /* Textes sur la neige */
    h1{ margin:0; font-size: clamp(2rem, 6vw, 5rem); font-weight: 900; text-transform: uppercase; letter-spacing: -1px; text-shadow: 0 5px 15px rgba(0,0,0,0.3); position:relative; z-index: 2;}
    p.lead{ font-size: 1.2rem; font-weight: 600; color: rgba(0,0,0,0.7); margin-top: 10px; position:relative; z-index: 2;}

    /* --- LES VRAIES PORTES 3D (Assemblage complexe) --- */
    .gate-assembly {
        position: absolute;
        transform-style: preserve-3d;
        z-index: 10;
        /* On les soul√®ve l√©g√®rement du sol */
        transform: translateZ(5px); 
    }

    /* 1. L'ombre au sol r√©aliste */
    .gate-shadow {
        position: absolute; top: 95%; left: -10%; width: 120%; height: 20px;
        background: rgba(0,0,0,0.4);
        filter: blur(10px);
        transform: rotateX(90deg) translateZ(-2px); /* Plat sur le sol */
        border-radius: 50%;
    }

    /* 2. Les Piquets (√©paisseur) */
    .pole {
        position: absolute; top:0; width: 8px; height: 120px;
        /* Cr√©ation d'un cylindre "fake" avec des d√©grad√©s */
        background: linear-gradient(90deg, #999, #fff, #999);
        border-radius: 4px;
        box-shadow: 0 0 5px rgba(0,0,0,0.5);
    }
    .pole.left { left: 0; }
    .pole.right { right: 0; }
    /* Embout du piquet */
    .pole:after { content:""; position:absolute; top:-5px; left:-2px; width:12px; height:12px; background:#333; border-radius:50%; transform: rotateX(90deg); }

    /* 3. Le Drapeau (tissu) */
    .flag {
        position: absolute; top: 15px; left: 6px; right: 6px; height: 80px;
        display: grid; place-items: center;
        color: white; font-weight: 900; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        /* L√©g√®re courbure pour le vent */
        transform: translateZ(2px) rotateY(5deg);
        border-radius: 4px;
        /* Texture de tissu nylon */
        background-image: repeating-linear-gradient(45deg, transparent 0, transparent 2px, rgba(0,0,0,0.1) 3px);
        box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
    }
    .gate-assembly.red .flag { background-color: var(--pink); background: linear-gradient(135deg, #ff6b95, var(--pink)); box-shadow: 0 10px 30px rgba(255, 71, 133, 0.4); }
    .gate-assembly.blue .flag { background-color: var(--blue); background: linear-gradient(135deg, #479eff, var(--blue)); box-shadow: 0 10px 30px rgba(36, 119, 255, 0.4);}

    /* --- Compte √† rebours final --- */
    .finish-box {
        background: rgba(20, 30, 50, 0.9);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255,255,255,0.2);
        padding: 40px; border-radius: 30px;
        text-align: center;
        box-shadow: var(--shadow-cine);
        transform: rotateX(-10deg); /* Face √† la cam√©ra */
    }
    .countdown-flex { display: flex; gap: 20px; justify-content: center; margin-top: 30px;}
    .time-unit { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1); min-width: 100px;}
    .t-num { font-size: 3rem; font-weight: 900; display: block; background: linear-gradient(to bottom, #fff, #ccc); -webkit-background-clip: text; -webkit-text-fill-color: transparent;}
    .t-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; color: rgba(255,255,255,0.6); }
  </style>
</head>

<body>

  <div class="hud">
    <div class="chip-glass" style="flex:1; max-width: 300px;">
      <div style="flex:1">
        <strong style="display:block; font-size:1.1rem;">A-Team Descent</strong>
        <span id="hudSub" style="opacity:0.7; font-size:0.9rem;">Dans le portillon...</span>
      </div>
    </div>
    <div class="bar-container"><div class="bar-fill" id="prog"></div></div>
    <div class="chip-glass">
        <i class="dot-live"></i>
        <strong id="parisClock">--:--</strong>
    </div>
  </div>

  <div class="snow-container">
      <div class="snow-layer snow-far"></div>
      <div class="snow-layer snow-mid"></div>
      <div class="snow-layer snow-near"></div>
  </div>

  <div class="viewport">
    <div class="fog-layer"></div> <div class="camera" id="camera">

      <div class="layer" style="transform: translate(-50%,-50%) translateZ(0px);">
        <div class="panel-surface" style="min-height: 600px;">
          <h1>Starthouse.</h1>
          <p class="lead">Le silence avant la temp√™te. Scrolle pour t'√©lancer.</p>
          <div style="position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%); color: rgba(0,0,0,0.4); font-weight: 900; font-size: 3rem; letter-spacing: 5px;">‚ñº GO ‚ñº</div>
        </div>
      </div>

      <div class="layer" style="transform: translate(-50%,-50%) translateZ(-2000px);">
        <div class="panel-surface" style="min-height: 800px;">
          <div class="gate-assembly red" style="top:10%; left:15%; width: 160px;">
              <div class="gate-shadow"></div> <div class="pole left"></div> <div class="flag">Focus ‚ù§Ô∏è</div> <div class="pole right"></div> </div>

           <div class="gate-assembly blue" style="top:60%; right:10%; width: 200px;">
              <div class="gate-shadow"></div>
              <div class="pole left"></div>
              <div class="flag">Vitesse Pure ‚ö°Ô∏è</div>
              <div class="pole right"></div>
          </div>
        </div>
      </div>

      <div class="layer" style="transform: translate(-50%,-50%) translateZ(-4000px);">
        <div class="panel-surface" style="min-height: 800px;">
          <h1 style="text-align: right; color: rgba(0,0,0,0.2); transform: rotate(-5deg);">LE MUR</h1>
          
          <div class="gate-assembly blue" style="top:20%; left:30%; width: 180px;">
              <div class="gate-shadow"></div>
              <div class="pole left"></div>
              <div class="flag">Engage ! ‚ùÑÔ∏è</div>
              <div class="pole right"></div>
          </div>

          <div class="gate-assembly red" style="top:70%; right:25%; width: 180px;">
              <div class="gate-shadow"></div>
              <div class="pole left"></div>
              <div class="flag">A-Team Solide üí™</div>
              <div class="pole right"></div>
          </div>
        </div>
      </div>

      <div class="layer" style="transform: translate(-50%,-50%) translateZ(-6000px);">
        <div class="panel-surface" style="min-height: 800px;">
           <div class="gate-assembly red" style="top:15%; left:10%; width: 220px;">
              <div class="gate-shadow"></div>
              <div class="pole left"></div>
              <div class="flag">Tout Schuss üöÄ</div>
              <div class="pole right"></div>
          </div>
           <div class="gate-assembly blue" style="top:55%; right:10%; width: 200px;">
              <div class="gate-shadow"></div>
              <div class="pole left"></div>
              <div class="flag">Ligne en vue üèÅ</div>
              <div class="pole right"></div>
          </div>
        </div>
      </div>

      <div class="layer" style="transform: translate(-50%,-50%) translateZ(-8000px);">
        <div class="finish-box">
          <h1 style="color:#fff; text-shadow: 0 0 30px var(--mint);">FINISH LINE</h1>
          <p style="color:rgba(255,255,255,0.8); font-size: 1.3rem; margin-top: 20px;">Run termin√©. Place au chrono.</p>
          <div style="margin-top: 30px; display:inline-block; padding: 10px 25px; background: var(--mint); color: #000; font-weight: 900; border-radius: 50px; box-shadow: 0 0 40px var(--mint);">
              RDV Samedi 20h00
          </div>
          
          <div class="countdown-flex" id="countdown">
            <div class="time-unit"><span class="t-num" id="days">00</span><span class="t-label">Jours</span></div>
            <div class="time-unit"><span class="t-num" id="hours">00</span><span class="t-label">Heures</span></div>
            <div class="time-unit"><span class="t-num" id="minutes">00</span><span class="t-label">Min</span></div>
            <div class="time-unit"><span class="t-num" id="seconds">00</span><span class="t-label">Sec</span></div>
          </div>
        </div>
      </div>
      
       <div class="layer" style="transform: translate(-50%,-50%) translateZ(-9500px);">
      </div>

    </div>
  </div>

<script>
/* =========================
   MOTEUR PHYSIQUE POV CIN√âMA
========================= */
const camera = document.getElementById('camera');
const prog = document.getElementById('prog');
const hudSub = document.getElementById('hudSub');

let maxScroll = document.body.scrollHeight - window.innerHeight;
const totalDistance = 9500; // Distance Z totale augment√©e

window.addEventListener('resize', () => {
  maxScroll = document.body.scrollHeight - window.innerHeight;
});

setTimeout(() => document.body.classList.add('skiing'), 1000);

window.addEventListener('scroll', () => {
  const scrolled = window.scrollY;
  const progress = Math.min(scrolled / maxScroll, 1);
  
  // --- MOUVEMENTS DE CAM√âRA RENFORC√âS ---
  
  // Z : Avanc√©e
  const zMove = progress * totalDistance;
  
  // X : Virages plus larges et plus fluides
  // Frequency r√©duite (12), Amplitude augment√©e (180px)
  const swayX = Math.sin(progress * 12) * 180;
  
  // Y : Bosses plus percutantes
  // Frequency haute (30), Amplitude (50px) + un petit rebond al√©atoire
  const bobY = Math.cos(progress * 30) * 50 + (Math.sin(progress*100)*5);
  
  // Rotation Z (Inclinaison dans le virage) : Plus forte
  const tiltZ = Math.sin(progress * 12) * 8; // +/- 8 degr√©s

  // Rotation X (Regard vers le bas/haut selon les bosses) : Nouveau !
  const tiltX = Math.cos(progress * 30) * 3;

  camera.style.transform = `translate3d(${swayX}px, ${bobY}px, ${zMove}px) rotateZ(${tiltZ}deg) rotateX(${tiltX}deg)`;
  
  // --- HUD ---
  prog.style.width = (progress * 100) + '%';
  
  if(progress < 0.02) hudSub.innerText = "Pousse fort pour lancer le run.";
  else if(progress < 0.25) hudSub.innerText = "Section 1 : Prise de carre.";
  else if(progress < 0.50) hudSub.innerText = "Section 2 : Le Mur, reste compact !";
  else if (progress < 0.80) hudSub.innerText = "Section 3 : Glisse max vers l'arriv√©e.";
  else hudSub.innerText = "Victoire. Respire.";
});

/* =========================
   HORLOGE & COMPTE √Ä REBOURS
========================= */
const parisClock = document.getElementById('parisClock');
const targetDate = new Date('2026-03-01T00:00:00+01:00').getTime();

function updateTime() {
  const now = new Date();
  parisClock.innerText = now.toLocaleTimeString('fr-FR', {timeZone: 'Europe/Paris', hour:'2-digit', minute:'2-digit'});
  
  const diff = targetDate - now.getTime();
  if (diff > 0) {
    document.getElementById('days').innerText = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');
    document.getElementById('hours').innerText = String(Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
    document.getElementById('minutes').innerText = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
    document.getElementById('seconds').innerText = String(Math.floor((diff % (1000 * 60)) / 1000)).padStart(2, '0');
  }
}
setInterval(updateTime, 1000);
updateTime();
</script>
</body>
</html>
