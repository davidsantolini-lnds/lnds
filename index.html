<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mon Amour ‚Äî Timeline Anniversaire</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg: #070813;
        --bg2: #13172b;
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.72);
        --line: rgba(255, 255, 255, 0.17);
        --card: rgba(255, 255, 255, 0.08);
        --pink: #ff6eb6;
        --violet: #8f7dff;
        --cyan: #75ddff;
      }

      * { box-sizing: border-box; }
      html, body { margin: 0; min-height: 100%; }
      body {
        font-family: Manrope, system-ui, sans-serif;
        color: var(--text);
        background:
          radial-gradient(1000px 500px at 8% -10%, rgba(255, 110, 182, 0.24), transparent 60%),
          radial-gradient(1000px 500px at 92% 8%, rgba(117, 221, 255, 0.18), transparent 60%),
          linear-gradient(180deg, var(--bg), var(--bg2));
        overflow-x: hidden;
      }

      .photo-bg {
        position: fixed;
        inset: 0;
        z-index: -3;
        background: url("nous.jpg") center/cover no-repeat;
        opacity: .15;
        transform: scale(1.08);
      }

      .sky {
        position: fixed;
        inset: -15%;
        z-index: -2;
        pointer-events: none;
        background:
          radial-gradient(circle at 20% 35%, rgba(255,110,182,.22), transparent 35%),
          radial-gradient(circle at 75% 30%, rgba(143,125,255,.22), transparent 35%),
          radial-gradient(circle at 55% 78%, rgba(117,221,255,.16), transparent 40%);
        filter: blur(24px);
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        backdrop-filter: blur(12px);
        background: rgba(6, 8, 18, .52);
        border-bottom: 1px solid var(--line);
      }
      .head {
        width: min(1020px, 94vw);
        margin: 0 auto;
        padding: 12px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
      }
      .brand { font-weight: 800; letter-spacing: -.02em; }
      nav { display: flex; gap: 8px; flex-wrap: wrap; }
      nav button, nav a {
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.05);
        color: var(--text);
        padding: 8px 11px;
        border-radius: 999px;
        font-size: 12px;
        text-decoration: none;
        cursor: pointer;
      }
      nav button.active { background: linear-gradient(120deg, rgba(255,110,182,.36), rgba(143,125,255,.36)); }

      .progress-wrap {
        position: fixed;
        right: 12px;
        top: 74px;
        width: 7px;
        height: calc(100vh - 90px);
        border-radius: 999px;
        background: rgba(255,255,255,.14);
        z-index: 40;
        overflow: hidden;
      }
      .progress {
        width: 100%;
        height: 0%;
        background: linear-gradient(180deg, var(--pink), var(--violet), var(--cyan));
      }

      main {
        width: min(1020px, 92vw);
        margin: 0 auto;
        padding-top: 76px;
        padding-bottom: 44px;
      }

      section {
        min-height: 66vh;
        display: grid;
        align-content: center;
        padding: 26px 0;
      }

      .card {
        border: 1px solid var(--line);
        background: var(--card);
        border-radius: 22px;
        padding: clamp(16px, 2.5vw, 26px);
        box-shadow: 0 24px 70px rgba(0,0,0,.35);
      }

      h1 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(44px, 8vw, 90px);
        line-height: .92;
      }
      h2 { margin: 0 0 8px; }
      p { margin: 0; color: var(--muted); line-height: 1.68; }

      .chip {
        width: fit-content;
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 7px 11px;
        margin-bottom: 12px;
        background: rgba(255,255,255,.06);
      }

      .count {
        margin-top: 14px;
        display: grid;
        grid-template-columns: repeat(4, minmax(0,1fr));
        gap: 10px;
      }
      .box {
        border: 1px solid var(--line);
        border-radius: 14px;
        text-align: center;
        padding: 10px;
        background: rgba(0,0,0,.22);
      }
      .num { font-weight: 800; font-size: clamp(23px, 4vw, 38px); }
      .lbl { font-size: 11px; letter-spacing: .08em; text-transform: uppercase; color: var(--muted); }

      .moments {
        display: grid;
        gap: 14px;
        perspective: 1200px;
      }
      .moment {
        border: 1px solid var(--line);
        border-radius: 15px;
        padding: 12px;
        background: rgba(255,255,255,.04);
        opacity: 0;
        transform: translateY(36px) translateX(var(--x, 0)) rotateX(9deg) scale(.95);
        transition: opacity .8s cubic-bezier(.2,.95,.2,1), transform .9s cubic-bezier(.2,.95,.2,1);
      }
      .moment:nth-child(odd) { --x: -28px; }
      .moment:nth-child(even) { --x: 28px; }
      .moment.visible {
        opacity: 1;
        transform: translateY(0) translateX(0) rotateX(0) scale(1);
      }
      .moment b { color: #fff; }

      .flight {
        min-height: 130vh;
      }
      .stage {
        position: sticky;
        top: 92px;
        min-height: 62vh;
        border-radius: 22px;
        border: 1px solid var(--line);
        background: rgba(0,0,0,.28);
        overflow: hidden;
        display: grid;
        place-items: center;
      }
      .lane {
        position: relative;
        width: min(88vw, 780px);
        height: min(58vw, 360px);
        border: 1px dashed rgba(255,255,255,.26);
        border-radius: 999px;
      }
      .comet {
        position: absolute;
        left: 50%; top: 50%; margin: -14px;
        width: 28px; height: 28px; border-radius: 999px;
        background: linear-gradient(120deg, var(--pink), var(--violet));
        box-shadow: 0 0 25px rgba(255,110,182,.75);
      }
      .trail {
        position: absolute;
        left: 50%; top: 50%; width: 120px; height: 4px;
        margin-top: -2px;
        transform-origin: 0 50%;
        background: linear-gradient(90deg, rgba(255,255,255,.95), transparent);
        opacity: .75;
      }
      .note {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        text-align: center;
        padding: 20px;
      }

      footer { text-align: center; color: rgba(255,255,255,.55); padding-top: 10px; }
      @media (max-width: 760px) { .count { grid-template-columns: repeat(2, minmax(0,1fr)); } }
    </style>
  </head>
  <body>
    <div class="photo-bg" id="photoBg"></div>
    <div class="sky"></div>

    <header>
      <div class="head">
        <div class="brand">Mon Amour ‚ù§Ô∏è</div>
        <nav id="nav">
          <button data-to="intro">Intro</button>
          <button data-to="timeline">Timeline</button>
          <button data-to="flight">Effet</button>
          <button data-to="final">Final</button>
          <a href="contact.html">Page 2</a>
        </nav>
      </div>
    </header>

    <div class="progress-wrap" aria-hidden="true"><div class="progress" id="progress"></div></div>

    <main>
      <section id="intro">
        <article class="card">
          <div class="chip" id="chip">‚è≥ Vers le 1er mars</div>
          <h1>Joyeux anniversaire<br />mon Amour</h1>
          <p>Un petit scroll, mais magique : transitions douces, moments qui volent, et une timeline jolie du d√©but √† la fin.</p>
          <div class="count" aria-label="Compte √† rebours">
            <div class="box"><div class="num" id="d">‚Äî</div><div class="lbl">Jours</div></div>
            <div class="box"><div class="num" id="h">‚Äî</div><div class="lbl">Heures</div></div>
            <div class="box"><div class="num" id="m">‚Äî</div><div class="lbl">Minutes</div></div>
            <div class="box"><div class="num" id="s">‚Äî</div><div class="lbl">Secondes</div></div>
          </div>
        </article>
      </section>

      <section id="timeline">
        <article class="card">
          <h2>Timeline anniversaire</h2>
          <div class="moments">
            <div class="moment"><b>Maintenant</b><p>Tu ouvres la page. Premi√®re surprise.</p></div>
            <div class="moment"><b>Avant le jour J</b><p>Petites attentions, grands sourires.</p></div>
            <div class="moment"><b>Le jour J</b><p id="dayj">On c√©l√®bre ton anniversaire comme une star.</p></div>
            <div class="moment"><b>Apr√®s</b><p>On garde cette √©nergie, version nous.</p></div>
          </div>
        </article>
      </section>

      <section id="flight" class="flight">
        <article class="stage" id="stage">
          <div class="lane" id="lane">
            <div class="trail" id="trail"></div>
            <div class="comet" id="comet"></div>
            <div class="note">Quand tu scrolles, √ßa vole ‚ú®</div>
          </div>
        </article>
      </section>

      <section id="final">
        <article class="card">
          <h2>Fin propre, promesse tenue</h2>
          <p>Je t‚Äôaime fort. Et demain, on branchera la page contact.</p>
        </article>
      </section>

      <footer>Fait avec ‚ù§Ô∏è</footer>
    </main>

    <script>
      const sections = [...document.querySelectorAll("main > section")];
      const nav = document.getElementById("nav");
      const progress = document.getElementById("progress");
      const photoBg = document.getElementById("photoBg");
      const stage = document.getElementById("stage");
      const comet = document.getElementById("comet");
      const trail = document.getElementById("trail");

      nav.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-to]");
        if (!btn) return;
        document.getElementById(btn.dataset.to).scrollIntoView({ behavior: "smooth", block: "start" });
      });

      const spy = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          const id = entry.target.id;
          [...nav.querySelectorAll("button")].forEach((b) => b.classList.toggle("active", b.dataset.to === id));
        });
      }, { threshold: 0.55 });
      sections.forEach((s) => spy.observe(s));

      const ioMoments = new IntersectionObserver((entries) => {
        entries.forEach((e) => e.isIntersecting && e.target.classList.add("visible"));
      }, { threshold: 0.2 });
      document.querySelectorAll(".moment").forEach((m) => ioMoments.observe(m));

      const easeOutExpo = (x) => (x === 1 ? 1 : 1 - Math.pow(2, -10 * x));

      function onScroll() {
        const y = window.scrollY;
        const max = document.documentElement.scrollHeight - window.innerHeight;
        const ratio = max > 0 ? y / max : 0;
        progress.style.height = `${ratio * 100}%`;
        photoBg.style.transform = `scale(1.08) translateY(${y * -0.05}px)`;

        const rect = stage.getBoundingClientRect();
        const vh = window.innerHeight;
        let t = 1 - Math.min(1, Math.max(0, rect.top / vh));
        t = easeOutExpo(Math.min(1, Math.max(0, t)));

        const angle = t * 900;
        const radius = 140 + Math.sin(t * Math.PI * 3) * 20;
        const rad = angle * Math.PI / 180;
        const x = Math.cos(rad) * radius;
        const y2 = Math.sin(rad) * (radius * 0.58);
        comet.style.transform = `translate(${x}px, ${y2}px) scale(${0.9 + t * 0.35})`;
        trail.style.transform = `translate(${x}px, ${y2}px) rotate(${angle + 180}deg) scaleX(${0.7 + t})`;
        trail.style.opacity = `${0.35 + t * 0.55}`;
      }

      window.addEventListener("scroll", onScroll, { passive: true });
      onScroll();

      const target = new Date("2026-03-01T00:00:00");
      const chip = document.getElementById("chip");
      const dayj = document.getElementById("dayj");
      const d = document.getElementById("d");
      const h = document.getElementById("h");
      const m = document.getElementById("m");
      const s = document.getElementById("s");
      const pad = (n) => String(n).padStart(2, "0");

      function tick() {
        const diff = target - new Date();
        if (diff <= 0) {
          d.textContent = "0"; h.textContent = "00"; m.textContent = "00"; s.textContent = "00";
          chip.textContent = "üéâ Joyeux anniversaire";
          dayj.textContent = "C'est aujourd'hui. Je t'aime tr√®s fort. ‚ù§Ô∏è";
          return;
        }
        const sec = Math.floor(diff / 1000);
        const days = Math.floor(sec / 86400);
        const hrs = Math.floor((sec % 86400) / 3600);
        const mins = Math.floor((sec % 3600) / 60);
        const secs = sec % 60;
        d.textContent = String(days);
        h.textContent = pad(hrs);
        m.textContent = pad(mins);
        s.textContent = pad(secs);
        chip.textContent = `‚è≥ ${days}j ${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
      }

      tick();
      setInterval(tick, 1000);
    </script>
  </body>
</html>
